<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sortieralgorithmen | Mergesort</title>
    <link rel="stylesheet" href="style.css">
    <script src="main.js" defer></script>
</head>
<body>
    <button id="scroll-down-btn">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" style="width: 20px; height: 20px;">
            <!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.-->
            <path fill="#ffffff" d="M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"/>
        </svg>
    </button>
    <header>
        <div class="fade-in">
            <h1>Mergesort</h1>
            <p>Divide, Conquer, Sort!</p>
        </div>
    </header>
    <main>
        <div class="wrapper">
            <div class="sub-wrapper">
                <div class="half">
                    <h2>Beschreibung</h2>
                    <ul>
                        <li>unsortierte Liste wird in kleinere Teillisten aufgeteilt, bis jede Teilliste nur noch ein Element enthält</li>
                        <li>
                            Danach: Teillisten paarweise zusammengeführt und dabei in sortierter Reihenfolge kombiniert, bis die gesamte Liste sortiert ist
                            <ul>
                                <li>Zusammenführung von bereits sortierten Teillisten in eine größere sortierte Liste</li>
                            </ul>
                        </li>
                    </ul>
                </div>
                <div class="half">
                    <h2>Anwendungsbereiche</h2>
                    <ul>
                        <li>besonders nützlich für große Datensätze</li>
                        <li>Datenbank- und Betriebssystemimplementierung</li>
                        <li>Suchalgorithmen</li>
                    </ul>  
                </div>              
            </div>
        </div>
        <div class="wrapper">
            <div class="sub-wrapper">
                <div class="half">
                    <h2>Pseudocode</h2>
                    <ol>
                        <li><b>Teilen</b>: Die unsortierte Liste wird rekursiv in kleinere Teillisten aufgeteilt, bis jede Teilliste nur noch ein Element enthält.</li>
                        <li><b>Sortieren</b>: Nachdem die Teillisten auf das kleinste Element reduziert wurden, werden sie paarweise zusammengeführt und dabei in sortierter Reihenfolge kombiniert. Dieser Schritt wird so lange wiederholt, bis die gesamte Liste sortiert ist.</li>
                        <li><b>Zusammmenführen (Merge)</b>: Die Schlüsseloperation beim Mergesort ist das Zusammenführen der sortierten Teillisten in eine größere sortierte Liste. Dabei werden die Elemente der Teillisten verglichen und in die endgültige sortierte Reihenfolge gebracht.</li>
                    </ol>
                </div>
                <div class="half">
                    <h2>Code-Verlauf</h2>
                    <img src="assets/diagram.png" class="img" alt="Mergesort Code-Verlauf">
                </div>
            </div>
        </div>
        <div class="wrapper">
            <div class="sub-wrapper">
                <div class="full">
                    <h2>Stabilität</h2>
                    <div>
                        Mergesort ist ein stabiler Alogirthmus, d.h. die Reihenfolge der Elemente bleibt erhalten, wenn sie gleich sind.
                    </div>
                </div>
            </div>
        </div>
        <div class="wrapper">
            <div class="sub-wrapper">
                <div class="half">
                    <h2>Zeitkomplexität</h2>
                    <div>
                        <canvas id="worstCase"></canvas>
                        <p>
                            Die Zeitkomplexität beträgt im worst (O), average (Θ) sowie best(Ω) case <i>n*log(n)</i>.<br>
                        </p>
                    </div>
                </div>
                <div class="half">
                    <h2>Beispiele</h2>
                    <ul>
                        <li>worst case: [10, 9, 8, 7, 6, 5, 4, 3, 2, 1]</li>
                        <li>best case: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="wrapper">
            <div class="sub-wrapper">
                <div class="full">
                    <h2>Code</h2>
                    <pre>
                        <code class="python">def merge_sort(arr):
    # Überprüfe, ob das Array nur ein Element oder leer ist
    if len(arr) <= 1:
        return arr

    # Teile das Array in zwei Hälften
    middle = len(arr) // 2
    left = arr[:middle]  # linke Hälfte
    right = arr[middle:]  # rechte Hälfte

    # Rekursiver Aufruf von merge_sort für die beiden Hälften
    left = merge_sort(left)
    right = merge_sort(right)

    # Führe die beiden sortierten Hälften zusammen
    return merge(left, right)

def merge(left, right):
    result = []  # Ergebnisliste
    left_index = right_index = 0  # Indizes für die linke und rechte Hälfte

    # Vergleiche die Elemente der linken und rechten Hälfte und füge das kleinere Element zum Ergebnis hinzu
    while left_index < len(left) and right_index < len(right):
        if left[left_index] < right[right_index]:
            result.append(left[left_index])
            left_index += 1
        else:
            result.append(right[right_index])
            right_index += 1

    # Füge die verbleibenden Elemente der linken und rechten Hälfte zum Ergebnis hinzu
    result.extend(left[left_index:])
    result.extend(right[right_index:])

    return result

if __name__ == "__main__":
    # Führe den Merge Sort Algorithmus aus und gib das sortierte Array aus
    print(merge_sort([3, 1, 4, 1, 5, 9, 2, 6, 5, 3, 5]))
                        </code>
                    </pre>
                </div>
            </div>
        </div>
        <div class="wrapper">
            <div class="sub-wrapper">
                <div class="half">
                    <h2>Übungsaufgabe</h2>
                    <p>Sortiere die Liste [4, 2, 6, 0]</p>
                </div>
                <div class="half">
                    <h2>Lösung</h2>
                    <img src="assets/solution.png" id="solution" alt="Mergesort Lösung" style="display: none;">
                    <button class="button" id="toggle-solution">
                        Lösung anzeigen
                    </button>
                </div>
            </div>
        </div>
    </main>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/10.4.0/math.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        const ctx = document.getElementById('worstCase');
        const labels = [];
        for (let i = 1; i <= 10000; i *= 2) {
            labels.push(i);
        }
        const data = labels.map(x => math.log(x) * x);

        new Chart(ctx, {
            type: 'line',
            data: {
                labels: labels,
                datasets: [{
                    label: 'n*log(n)',
                    data: data,
                    backgroundColor: 'rgba(0, 123, 255, 0.5)',
                    borderColor: 'rgba(0, 123, 255, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    x: {
                        title: {
                            display: true,
                            text: 'n'
                        }
                    },
                    y: {
                        title: {
                            display: true,
                            text: 'n*log(n)'
                        }
                    }
                }
            }
        });
    </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    
    <!-- and it's easy to individually load additional languages -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/go.min.js"></script>
    
    <script>hljs.highlightAll();</script>
</body>
</html>